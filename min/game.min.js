game_man={width:800,height:600,score:0,level:1,totalLevels:1,numClouds:0,numTiles:0,health:3,numCoins:0,numKeys:0,levels:{width:6800},platformLow:function(){return Crafty.viewport._height-175},platformHigh:function(){return Crafty.viewport._height-350},getHit:function(){this.health=this.health-.5,0===this.health&&(Crafty.audio.stop(),Crafty.audio.play("gameover",1,.5),Crafty.scene("gameover"))},reset:function(){this.numClouds=0,this.numTiles=0,this.menuTiles=0,this.health=3,this.numCoins=0,this.numKeys=0,this.score=0},countScore:function(e){Crafty.audio.play("coin",1,.4),game_man.score+=e},endpoint:function(){Crafty.audio.stop(),Crafty.audio.play("levelcomplete",1,.4),this.level===this.totalLevels?Crafty.scene("beatGame"):(this.level++,Crafty.scene("level"+this.level),console.log("Now on level: "+this.level))}};
window.onload=function(){Crafty.init(game_man.width,game_man.height),Crafty.viewport.bounds={min:{x:0,y:0},max:{x:game_man.width,y:game_man.height}},Crafty.background("#ADD5F8"),Crafty.enterScene("loading")};
Crafty.audio.add({coin:["audio/mp3/coin.mp3","audio/ogg/coin.ogg","audio/wav/coin.wav"],gameover:["audio/mp3/gameover.mp3","audio/ogg/gameover.ogg","audio/wav/gameover.wav"],hit:["audio/mp3/hit.mp3","audio/ogg/hit.ogg","audio/wav/hit.wav"],jump:["audio/mp3/jump.mp3","audio/ogg/jump.ogg","audio/wav/jump.wav"],level1bg:["audio/mp3/level1bg.mp3","audio/ogg/level1bg.ogg","audio/wav/level1bg.wav"],levelcomplete:["audio/mp3/levelcomplete.mp3","audio/ogg/levelcomplete.ogg","audio/wav/levelcomplete.wav"],menubg:["audio/mp3/menubg.mp3","audio/ogg/menubg.ogg","audio/wav/menubg.wav"],select:["audio/mp3/select.mp3","audio/ogg/select.ogg","audio/wav/select.wav"]});
Crafty.c("stone",{init:function(){this.requires("2D, Canvas, rock, Gravity").attr({y:game_man.height-45}).gravity("ground")}}),Crafty.c("Cactus",{init:function(){this.requires("2D, Canvas, cactus, Gravity").attr({y:game_man.height-45}).gravity("ground")}}),Crafty.c("greenHill",{init:function(){this.requires("2D, Canvas, hillGreen, Gravity").attr({y:game_man.height-45}).gravity("ground")}}),Crafty.c("greenHillSm",{init:function(){this.requires("2D, Canvas, hillGreenSm, Gravity").attr({y:game_man.height-45}).gravity("ground")}}),Crafty.c("greenHillHappy",{init:function(){this.requires("2D, Canvas, hillGreenHappy, Gravity").attr({y:game_man.height-45}).gravity("ground")}}),Crafty.c("greenHillHappySm",{init:function(){this.requires("2D, Canvas, hillGreenHappySm, Gravity").attr({y:game_man.height-45}).gravity("ground")}}),Crafty.c("grass",{init:function(){this.requires("2D, Canvas, greenGrass").attr({y:game_man.height-75})}}),Crafty.c("smFence",{init:function(){this.requires("2D, Canvas, fenceSm").attr({y:game_man.height-100})}}),Crafty.c("greenBush",{init:function(){this.requires("2D, Canvas, bush").attr({y:game_man.height-60})}}),Crafty.c("browMushroom",{init:function(){this.requires("2D, Canvas, mushroom").attr({y:game_man.height-100})}}),Crafty.c("rightArrow",{init:function(){this.requires("2D, Canvas, arrowRight").attr({y:game_man.height-100})}});
Crafty.c("camera",{init:function(){this.requires("2D, Canvas, Color").attr({w:Crafty.DOM.window.width,h:Crafty.DOM.window.height,x:0,y:500,z:-1}).bind("followMe",function(t){Crafty.viewport.scroll("_x",-t+75)})}});
Crafty.c("cloud",{init:function(){origY=Crafty.math.randomInt(5,105),game_man.numClouds++,this.requires("Canvas, clouds, 2D").attr({x:Crafty.math.randomInt(5,game_man.levels.width),y:origY,z:-1,moving:!0,speed:.5,xdir:-1,ydir:1}).bind("EnterFrame",function(t){this.x===0-this.w&&(this.destroy(),game_man.numClouds--,Crafty.e("cloud")),this.moving&&(this.x=this.x+this.speed*this.xdir)})}});
Crafty.c("slug",{init:function(){this.requires("2D, Canvas, slug1, Collision").attr({y:game_man.height-66,xdir:-1,moving:!0,speed:3}).bind("EnterFrame",function(){this.moving===!0&&(this.x=this.x+this.speed*this.xdir)}).checkHits("player").bind("HitOn",function(){game_man.getHit(),Crafty.audio.play("hit",1,1)})}}),Crafty.c("fly",{init:function(){this.requires("2D, Canvas, fly1, Collision, SpriteAnimation").attr({y:game_man.height-90,xdir:-1,moving:!0,speed:5}).bind("EnterFrame",function(){this.moving===!0&&(this.x=this.x+this.speed*this.xdir)}).checkHits("player").bind("HitOn",function(){game_man.getHit(),Crafty.audio.play("hit",1,1)})}}),Crafty.c("snail",{init:function(){this.requires("2D, Canvas, snail1, Collision, SpriteAnimation").attr({y:game_man.height-68,xdir:-1,moving:!0,speed:2}).bind("EnterFrame",function(){this.moving===!0&&(this.x=this.x+this.speed*this.xdir)}).checkHits("player").bind("HitOn",function(){game_man.getHit(),Crafty.audio.play("hit",1,1)})}}),Crafty.c("fish",{init:function(){this.requires("2D, Canvas, fish1, Collision, SpriteAnimation").attr({y:game_man.height-68,xdir:-1,moving:!0,speed:3}).bind("EnterFrame",function(){this.moving===!0&&(this.x=this.x+this.speed*this.xdir)}).checkHits("player").bind("HitOn",function(){game_man.getHit(),Crafty.audio.play("hit",1,1)})}});
Crafty.c("flagPole",{init:function(){this.requires("2D, Canvas, flagExt, Collision, SpriteAnimation").attr({y:game_man.height-90}).checkHits("player").bind("HitOn",function(){game_man.endpoint()})}}),Crafty.c("flagYellow",{init:function(){this.requires("2D, Canvas, flagYellow1, Collision, SpriteAnimation").attr({y:game_man.height-150}).bind("EnterFrame",function(){})}});
Crafty.c("ground",{init:function(){}}),Crafty.c("groundGrass",{init:function(){this.requires("2D, Canvas, ground, groundGrass2").attr({w:42,h:42,z:99999})}}),Crafty.c("platGrass",{init:function(){this.requires("2D, Canvas, ground, groundGrass2").attr({w:42,h:42,y:game_man.platformLow()})}}),Crafty.c("platGrassLeft",{init:function(){this.requires("2D, Canvas, ground, groundGrass1").attr({w:42,h:42,y:game_man.platformLow()})}}),Crafty.c("platGrassRight",{init:function(){this.requires("2D, Canvas, ground, groundGrass3").attr({w:42,h:42,y:game_man.platformLow()})}}),Crafty.c("grassBox",{init:function(){this.requires("2D, Canvas, boxGrass, ground").attr({y:game_man.height-80})}}),Crafty.c("groundPurp",{init:function(){this.requires("2D, Canvas, ground, groundPurp2").attr({w:42,h:42,z:99999})}}),Crafty.c("platPurp",{init:function(){this.requires("2D, Canvas, ground, groundPurp2").attr({w:42,h:42,y:game_man.platformLow()})}}),Crafty.c("platPurpLeft",{init:function(){this.requires("2D, Canvas, ground, groundPurp1").attr({w:42,h:42,y:game_man.platformLow()})}}),Crafty.c("platPurpRight",{init:function(){this.requires("2D, Canvas, ground, groundPurp3").attr({w:42,h:42,y:game_man.platformLow()})}});
Crafty.c("title",{init:function(){this.requires("2D, Canvas, logo").attr({x:game_man.width/2-this.w/2,y:25})}}),Crafty.c("play",{init:function(){this.requires("2D, DOM, Text, playBtn, Mouse").attr({x:game_man.width/2-this.w/2,y:game_man.height-225}).css({cursor:"pointer"}).bind("MouseOver",function(){this.toggleComponent("playBtn, playBtnHover"),Crafty.audio.play("select",1,.4)}).bind("MouseOut",function(){this.toggleComponent("playBtnHover, playBtn")}).bind("Click",function(){Crafty.scene("level1")})}}),Crafty.c("gameOverLbl",{init:function(){this.requires("2D, Canvas, Text, gameOver, Mouse").attr({x:game_man.width/2-this.w/2,y:150})}}),Crafty.c("onLevelLbl",{init:function(){this.requires("2D, Canvas, levelBtn").attr({x:200,y:300}).bind("EnterFrame",function(t){this.hud===!0&&(this.x=-Crafty.viewport.x+(game_man.width-200))})}}),Crafty.c("replay",{init:function(){this.requires("2D, DOM, Text, Mouse, replayBtn").attr({x:game_man.width/2-this.w/2,y:500}).css({cursor:"pointer"}).bind("MouseOver",function(){this.toggleComponent("replayBtn, replayBtnHover"),Crafty.audio.play("select",1,.4)}).bind("MouseOut",function(){this.toggleComponent("replayBtnHover, replayBtn")}).bind("Click",function(){Crafty.scene("level1")})}}),Crafty.c("congratsLbl",{init:function(){this.requires("2D, Canvas, Text, congrats, Mouse").attr({x:game_man.width/2-this.w/2,y:50})}}),Crafty.c("beatGameLbl",{init:function(){this.requires("2D, Canvas, Text, beatGame, Mouse").attr({x:game_man.width/2-this.w/2,y:150})}}),Crafty.c("scoreLbl",{init:function(){this.requires("2D, Canvas, scoreBtn").attr({x:450,y:300}).bind("EnterFrame",function(t){this.hud===!0&&(this.x=-Crafty.viewport.x+10)})}}),Crafty.c("0",{init:function(){this.requires("2D, Canvas, numZero").attr({})}}),Crafty.c("1",{init:function(){this.requires("2D, Canvas, numOne").attr({})}}),Crafty.c("2",{init:function(){this.requires("2D, Canvas, numTwo").attr({})}}),Crafty.c("3",{init:function(){this.requires("2D, Canvas, numThree").attr({})}}),Crafty.c("4",{init:function(){this.requires("2D, Canvas, numFour").attr({})}}),Crafty.c("5",{init:function(){this.requires("2D, Canvas, numFive").attr({})}}),Crafty.c("6",{init:function(){this.requires("2D, Canvas, numSix").attr({})}}),Crafty.c("7",{init:function(){this.requires("2D, Canvas, numSeven").attr({})}}),Crafty.c("8",{init:function(){this.requires("2D, Canvas, numEight").attr({})}}),Crafty.c("9",{init:function(){this.requires("2D, Canvas, numNine").attr({})}}),Crafty.c("hearts",{xOff:20,yOff:20,init:function(){this.requires("2D, Canvas").bind("EnterFrame",function(t){this.x=-Crafty.viewport.x+(game_man.width-200),this.y=-Crafty.viewport.y+this.yOff}).attr({z:99999}).bind("EnterFrame",function(){3===game_man.health&&this.addComponent("heartThree"),2.5===game_man.health&&this.addComponent("heartTwoHalf"),2===game_man.health&&this.addComponent("heartTwo"),1.5===game_man.health&&this.addComponent("heartOneHalf"),1===game_man.health&&this.addComponent("heartOne"),.5===game_man.health&&this.addComponent("heartHalf"),0===game_man.health&&this.addComponent("heartZero")})}});
Crafty.c("coin",{init:function(){this.requires("2D, Canvas, coins, Collision").attr({w:28,h:28,x:300,pos:"default",y:game_man.height-110}).bind("EnterFrame",function(){"fence"===this.pos&&(this.y=game_man.height-130),"lowPlatform"===this.pos&&(this.y=game_man.platformLow()-40),"highPlatform"===this.pos&&(this.y=game_man.platformHigh()-40)}).checkHits("player").bind("HitOn",function(){game_man.countScore(25),this.destroy()})}}),Crafty.c("gem",{init:function(){this.requires("2D, Canvas, gemYellowSm, Collision").attr({w:48,h:37,x:300,y:game_man.height-90}).bind("EnterFrame",function(){"green"===this.color&&(this.removeComponent("gemYellowSm"),this.addComponent("gemGreenSm")),"orange"===this.color&&(this.removeComponent("gemYellowSm"),this.addComponent("gemOrangeSm")),"blue"===this.color&&(this.removeComponent("gemYellowSm"),this.addComponent("gemBlueSm")),"yellow"===this.color&&(this.removeComponent("gemYellowSm"),this.addComponent("gemYellowSm")),"lowPlatform"===this.pos&&(this.y=game_man.platformLow()-45),"highPlatform"===this.pos&&(this.y=game_man.platformHigh()-45)}).checkHits("player").bind("HitOn",function(){game_man.countScore(100),this.destroy()})}}),Crafty.c("spring",{init:function(){this.requires("2D, Canvas, springUp, Collision").attr({x:3200,y:game_man.height-80}).checkHits("player").bind("HitOn",function(){this.toggleComponent("springUp, springDown"),this.y+=14,Crafty.trigger("springJump")}).bind("HitOff",function(){this.toggleComponent("springDown, springUp"),this.y-=14})}});
Crafty.c("player",{init:function(){this.requires("2D, Canvas, playerGreen1, Gravity, Twoway, SpriteAnimation, Keyboard, Tween, Collision").attr({x:25,y:25,speed:7,z:99999}).reel("walk_right",500,[[1538,929],[1608,930],[1674,929],[1746,929]]).reel("walk_left",500,[[1814,1249],[1745,1250],[1677,1249],[1606,1249]]).bind("KeyDown",function(i){(this.isDown("SPACE")||this.isDown("UP_ARROW"))&&this._falling===!1&&(this.cancelTween(),this.tween({y:this.y-175},200),Crafty.audio.play("jump",1,.4)),this.isDown("RIGHT_ARROW")&&(this.moving=!0,this.xdir=1,this.x=this.x+this.speed*this.xdir,this.isPlaying("walk_right")||(this.animate("walk_right",-1),this.removeComponent("playerGreen1"),this.addComponent("playerGreenLeft1"))),this.isDown("LEFT_ARROW")&&(this.moving=!0,this.xdir=-1,this.x=this.x+this.speed*this.xdir,this.isPlaying("walk_left")||this.animate("walk_left",-1),this.removeComponent("playerGreen1"),this.addComponent("playerGreenLeft1"))}).bind("KeyUp",function(i){this.isDown("RIGHT_ARROW")||this.isDown("LEFT_ARROW")||(this.moving=!1,this.xdir=0,this.pauseAnimation())}).bind("EnterFrame",function(i){this._falling===!0?(this.removeComponent("playerGreen1"),this.addComponent("playerGreen3")):(this.removeComponent("playerGreen3"),this.addComponent("playerGreen1")),this.y>=game_man.height&&(game_man.health=0,Crafty.scene("gameover")),Crafty.trigger("followMe",this.x),(this.x<=0||this.x>=game_man.levels.width-this.w)&&(this.moving=!1,this.x<=0&&(this.x=0),this.x>=game_man.levels.width-this.w&&(this.x=game_man.levels.width-this.w)),this.moving&&(this.x=this.x+this.speed*this.xdir)}).bind("springJump",function(){this.cancelTween(),this.tween({y:this.y-350},200),Crafty.audio.play("jump",1,.4)}).gravity("ground")}});
Crafty.sprite("min/images/sprites.png",{logo:[1481,296,481,245],gameOver:[974,1099,295,64],congrats:[364,1218,466,66],congratsHover:[364,1320,466,65],beatGame:[951,1285,290,45],beatGameHover:[951,1359,290,45],heartThree:[1471,7,173,46],heartTwoHalf:[1667,7,172,46],heartTwo:[1853,7,173,46],heartOneHalf:[2051,7,173,46],heartOne:[2051,75,173,46],heartHalf:[2050,145,173,46],heartZero:[2051,203,173,46],keyYellow:[587,47,50,40],keyGreen:[636,47,50,40],keyOrange:[685,47,50,40],keyBlue:[734,47,50,40],keyYellowEmpty:[792,47,50,40],keyGreenEmpty:[845,47,50,40],keyOrangeEmpty:[895,47,50,40],keyBlueEmpty:[945,47,50,40],playBtn:[1467,567,144,64],playBtnHover:[1657,567,144,64],levelBtn:[1454,655,102,43],levelBtnHover:[1593,656,101,42],scoreBtn:[1448,733,118,43],scoreBtnHover:[1593,733,118,42],pauseBtn:[2169,51,32,32],pauseBtnHover:[2169,84,32,32],replayBtn:[1835,580,46,44],replayBtnHover:[1893,580,46,44],playerGreen1:[1467,834,51,71],playerGreen2:[1536,835,52,71],playerGreen3:[1605,835,55,71],playerGreen4:[1675,835,55,71],playerGreen5:[1746,835,52,71],playerGreen6:[1815,835,53,71],playerGreen7:[1465,929,56,71],playerGreen8:[1535,929,55,71],playerGreen9:[1605,930,54,70],playerGreen10:[1675,929,52,71],playerGreen11:[1747,929,51,71],playerGreen12:[1816,944,53,55],playerGreen13:[1885,926,51,73],playerGreen14:[1466,1024,52,70],playerGreenLeft1:[1886,1154,51,70],playerGreenLeft2:[1816,1155,52,70],playerGreenLeft3:[1744,1155,55,70],playerGreenLeft4:[1674,1155,55,70],playerGreenLeft5:[1606,1154,52,71],playerGreenLeft6:[1536,1155,53,70],playerGreenLeft7:[1883,1249,56,70],playerGreenLeft8:[1814,1249,55,70],playerGreenLeft9:[1745,1250,54,69],playerGreenLeft10:[1677,1249,52,70],playerGreenLeft11:[1606,1249,51,70],playerGreenLeft12:[1535,1264,53,54],playerGreenLeft13:[1467,1246,52,72],playerGreenLeft14:[1886,1344,52,69],playerGreenLeft15:[1816,1344,51,69],playerBlue1:[1972,845,51,69],playerBlue2:[2026,844,51,69],playerBlue3:[2080,844,51,69],playerBlue4:[2131,844,51,69],playerBlue5:[2183,845,52,70],playerBlue6:[2236,844,52,71],playerBlue7:[2290,844,51,70],playerBlue8:[1971,915,52,68],playerBlue9:[2024,915,52,69],playerBlue10:[2076,915,52,69],playerBlue11:[2131,917,51,69],playerBlue12:[2185,917,50,69],playerBlue13:[2236,917,52,71],playerBlue14:[2288,917,52,71],playerBlue15:[1970,986,51,70],playerBlue16:[2021,986,51,70],playerPink1:[1974,588,50,70],playerPink2:[2029,587,53,73],playerPink3:[2082,587,53,73],playerPink4:[2135,587,53,73],playerPink5:[2191,590,51,71],playerPink6:[2247,590,50,70],playerPink7:[2299,587,52,70],playerPink8:[1970,661,54,69],playerPink9:[2025,662,54,70],playerPink10:[2080,663,53,70],playerPink11:[2137,664,51,70],playerPink12:[2192,662,51,71],playerPink13:[2244,661,52,54],playerPink14:[2299,657,51,70],playerPink15:[1970,734,51,70],playerPink16:[2029,734,51,70],numZero:[852,45,30,38],numOne:[888,46,26,37],numTwo:[924,45,31,38],numThree:[965,45,38,39],numFour:[1002,45,29,39],numFive:[1040,45,29,39],numSix:[1078,45,30,39],numSeven:[1116,45,31,39],numEight:[1154,44,33,40],numNine:[1194,45,32,39],slug1:[1256,50,51,29],slug2:[1326,52,51,27],slug3:[1395,66,59,13],fly1:[1458,106,72,36],fly2:[1538,111,74,31],fly3:[1625,116,60,31],fish1:[1460,161,66,41],fish2:[1540,161,61,42],fish3:[1620,161,66,41],snail1:[1461,222,54,31],snail2:[1539,222,56,31],snail3:[1617,222,44,30],snail4:[1680,223,44,30],gemYellow:[0,0,48,37],gemGreen:[60,0,48,37],gemOrange:[121,0,48,37],gemBlue:[181,0,48,37],gemYellowSm:[1140,851,34,24],gemGreenSm:[1220,851,34,24],gemOrangeSm:[1300,851,34,24],gemBlueSm:[1380,851,34,24],coins:[311,43,50,50],pKeyYellow:[1045,121,60,37],pKeyRed:[1045,201,60,37],pKeyGreen:[1125,121,60,37],pKeyBlue:[1125,201,60,37],flagExt:[721,916,13,10],flagYellow1:[721,906,67,71],flagYellow2:[723,988,67,70],flagYellow3:[1043,908,67,70],flagGreen1:[803,908,67,70],flagGreen2:[803,988,67,70],flagGreen3:[1122,908,67,70],flagRed1:[883,908,67,70],flagRed2:[883,988,67,70],flagRed3:[1043,988,67,70],flagBlue1:[962,908,67,70],flagBlue2:[962,988,67,70],flagBlue3:[1122,988,67,70],exitSign:[962,748,70,70],arrowRight:[1124,747,64,71],arrowLeft:[1202,748,70,70],springUp:[1039,846,71,51],springDown:[959,860,71,37],water1:[720,133,70,45],water2:[800,133,70,45],water3:[720,187,70,70],lava1:[880,133,70,45],lava2:[960,133,70,45],lava3:[880,187,70,70],bridge1:[800,236,70,20],bridge2:[880,187,70,24],spikes:[721,303,70,35],weight:[803,268,66,70],weight1:[883,268,66,70],links:[987,267,18,70],buttonYellowUp:[1041,292,70,46],buttonGreenUp:[1121,292,70,46],buttonRedUp:[1041,372,70,46],buttonBlueUp:[1121,372,70,46],buttonYellowDown:[1041,471,70,26],buttonGreenDown:[1121,471,70,26],buttonRedDown:[1041,552,70,26],buttonBlueDown:[1121,552,70,26],clouds:[1280,238,71,19],fenceSm:[720,358,71,62],fenceSmBroken:[801,357,70,61],fenceLg:[961,348,70,70],fenceLgSquare:[881,348,70,70],hillGreen:[1316,591,48,146],hillGreenSm:[1375,629,48,106],hillGreenHappy:[1201,591,48,146],hillGreenHappySm:[1259,631,48,106],hillRedMad:[1756,106,48,146],hillRedSad:[1826,106,48,146],bush:[1201,231,70,26],rock:[1361,216,70,41],greenGrass:[1300,136,32,38],cactus:[1377,119,38,57],mushroom:[1296,386,40,31],mushromSpotted:[1376,386,40,31],boxExclaim:[720,428,70,70],boxExclaimBorder:[800,428,70,70],boxExclaimBrown:[720,508,70,70],boxExclaimBrownBorder:[800,508,70,70],boxCoin:[880,428,70,70],boxCoinBorder:[960,428,70,70],boxCoinBrown:[880,508,70,70],boxCoinBrownBorder:[960,508,70,70],boxBrown1:[720,588,70,70],boxBrown2:[800,588,70,70],boxBrown3:[880,588,70,70],boxBrown4:[960,588,70,70],boxWarning:[720,828,70,70],boxWarningLightBrown:[800,828,70,70],boxWarningBrown:[880,828,70,70],boxKeyYellow:[1041,588,70,70],boxKeyGreen:[1121,588,70,70],boxKeyRed:[1041,668,70,70],boxKeyBlue:[1121,668,70,70],boxGrass:[1901,202,51,51],boxGrassMad:[1901,62,51,51],boxGrassSad:[1901,132,51,51],flame1:[1222,908,28,67],flame2:[1302,908,28,67],flame3:[1382,927,28,50],ropeVert:[1234,988,5,70],ropeVertTop:[1388,988,16,70],ropeHor:[1281,1021,70,5],groundChoc0:[0,108,70,70],groundChoc1:[80,108,70,70],groundChoc2:[160,108,70,70],groundChoc3:[240,108,70,70],groundChoc4:[320,108,70,70],groundChoc5:[400,108,70,70],groundChoc6:[480,108,70,70],groundChoc7:[560,108,70,70],groundChoc8:[640,108,70,70],groundChoc9:[0,188,70,70],groundChoc10:[80,188,70,70],groundChoc11:[160,188,70,70],groundChoc12:[240,188,70,70],groundChoc13:[320,188,70,70],groundChoc14:[400,188,70,70],groundChoc15:[480,188,70,70],groundChoc16:[560,188,70,70],groundChoc17:[640,188,70,70],groundIce0:[0,268,70,70],groundIce1:[80,268,70,70],groundIce2:[160,268,70,70],groundIce3:[240,268,70,70],groundIce4:[320,268,70,70],groundIce5:[400,268,70,70],groundIce6:[480,268,70,70],groundIce7:[560,268,70,70],groundIce8:[640,268,70,70],groundIce9:[0,348,70,70],groundIce10:[80,348,70,70],groundIce11:[160,348,70,70],groundIce12:[240,348,70,70],groundIce13:[320,348,70,70],groundIce14:[400,348,70,70],groundIce15:[480,348,70,70],groundIce16:[560,348,70,70],groundIce17:[640,348,70,70],groundGrass0:[0,428,70,70],groundGrass1:[80,428,70,70],groundGrass2:[160,428,70,70],groundGrass3:[240,428,70,70],groundGrass4:[320,428,70,70],groundGrass5:[400,428,70,70],groundGrass6:[480,428,70,70],groundGrass7:[560,428,70,70],groundGrass8:[640,428,70,70],groundGrass9:[0,508,70,70],groundGrass10:[80,508,70,70],groundGrass11:[160,508,70,70],groundGrass12:[240,508,70,70],groundGrass13:[320,508,70,70],groundGrass14:[400,508,70,70],groundGrass15:[480,508,70,70],groundGrass16:[560,508,70,70],groundGrass17:[640,508,70,70],groundPurp0:[0,588,70,70],groundPurp1:[80,588,70,70],groundPurp2:[160,588,70,70],groundPurp3:[240,588,70,70],groundPurp4:[320,588,70,70],groundPurp5:[400,588,70,70],groundPurp6:[480,588,70,70],groundPurp7:[560,588,70,70],groundPurp8:[640,588,70,70],groundPurp9:[0,668,70,70],groundPurp10:[80,668,70,70],groundPurp11:[160,668,70,70],groundPurp12:[240,668,70,70],groundPurp13:[320,668,70,70],groundPurp14:[400,668,70,70],groundPurp15:[480,668,70,70],groundPurp16:[560,668,70,70],groundPurp17:[640,668,70,70],groundMount0:[0,748,70,70],groundMount1:[80,748,70,70],groundMount2:[160,748,70,70],groundMount3:[240,748,70,70],groundMount4:[320,748,70,70],groundMount5:[400,748,70,70],groundMount6:[480,748,70,70],groundMount7:[560,748,70,70],groundMount8:[640,748,70,70],groundMount9:[0,828,70,70],groundMount10:[80,828,70,70],groundMount11:[160,828,70,70],groundMount12:[240,828,70,70],groundMount13:[320,828,70,70],groundMount14:[400,828,70,70],groundMount15:[480,828,70,70],groundMount16:[560,828,70,70],groundMount17:[640,828,70,70],groundCastle0:[0,908,70,70],groundCastle1:[80,908,70,70],groundCastle2:[160,908,70,70],groundCastle3:[240,908,70,70],groundCastle4:[320,908,70,70],groundCastle5:[400,908,70,70],groundCastle6:[480,908,70,70],groundCastle7:[560,908,70,70],groundCastle8:[640,908,70,70],groundCastle9:[0,988,70,70],groundCastle10:[80,988,70,70],groundCastle11:[160,988,70,70],groundCastle12:[240,988,70,70],groundCastle13:[320,988,70,70],groundCastle14:[400,988,70,70],groundCastle15:[480,988,70,70],groundCastle16:[560,988,70,70],groundCastle17:[640,988,70,70]});
Crafty.defineScene("beatGame",function(){Crafty.viewport.x=0;var e=game_man.level,a=game_man.score;Crafty.e("congratsLbl"),Crafty.e("beatGameLbl"),Crafty.e("scoreLbl"),Crafty.e("onLevelLbl"),Crafty.e(""+e).attr({x:325,y:300});var t=590,r=a.toString(),n=r.split("");for(index=0;index<n.length;++index)index>0&&(t+=35),Crafty.e(""+n[index]).attr({x:t,y:303});game_man.level=1,game_man.score=0,Crafty.e("replay")});
Crafty.defineScene("gameover",function(){Crafty.viewport.x=0;var e=game_man.level,r=game_man.score;Crafty.e("gameOverLbl"),Crafty.e("onLevelLbl"),Crafty.e("scoreLbl"),Crafty.e(""+e).attr({x:325,y:300});var a=590,t=r.toString(),n=t.split("");for(index=0;index<n.length;++index)index>0&&(a+=35),Crafty.e(""+n[index]).attr({x:a,y:303});Crafty.e("replay")});
Crafty.defineScene("level1",function(){game_man.reset();Crafty.e("player");for(camera=Crafty.e("camera"),Crafty.e("groundGrass").attr({x:-40,y:game_man.height-40}),Crafty.e("groundGrass").attr({x:-80,y:game_man.height-40}),Crafty.audio.stop(),Crafty.audio.play("level1bg",-1,.3),Crafty.e("hearts"),Crafty.e("scoreLbl").attr({x:0,y:10,z:9999,hud:!0}),Crafty.e("0").attr({x:100,y:10}).bind("EnterFrame",function(t){this.x=-Crafty.viewport.x+145}),Crafty.e("onLevelLbl").attr({y:80,z:9999,hud:!0}),Crafty.e(""+game_man.level).attr({y:80,z:9999,hud:!0}).bind("EnterFrame",function(t){this.x=-Crafty.viewport.x+(game_man.width-65)}),Crafty.e("stone").attr({x:-90}),Crafty.e("rightArrow").attr({x:-40}),cCount=0;cCount<=60;cCount++)Crafty.e("cloud");Crafty.e("greenHillHappy").attr({x:350}),Crafty.e("greenHillHappySm").attr({x:420}),Crafty.e("greenHillHappy").attr({x:490}),Crafty.e("grass").attr({x:590}),Crafty.e("grass").attr({x:630}),Crafty.e("grass").attr({x:670}),Crafty.e("grass").attr({x:710}),Crafty.e("smFence").attr({x:795}),Crafty.e("smFence").attr({x:852}),Crafty.e("smFence").attr({x:909}),Crafty.e("smFence").attr({x:966}),Crafty.e("grass").attr({x:1080}),Crafty.e("grass").attr({x:1120}),Crafty.e("grass").attr({x:1160}),Crafty.e("grass").attr({x:1200}),Crafty.e("smFence").attr({x:1280}),Crafty.e("smFence").attr({x:1337}),Crafty.e("smFence").attr({x:1394}),Crafty.e("smFence").attr({x:1451}),Crafty.e("greenBush").attr({x:1820}),Crafty.e("greenBush").attr({x:1920}),Crafty.e("greenBush").attr({x:2020}),Crafty.e("stone").attr({x:2500}),Crafty.e("grass").attr({x:2575}),Crafty.e("grass").attr({x:2625}),Crafty.e("grass").attr({x:2675}),Crafty.e("Cactus").attr({x:2725}),Crafty.e("grass").attr({x:2775}),Crafty.e("grass").attr({x:2825}),Crafty.e("grass").attr({x:2875}),Crafty.e("stone").attr({x:2925}),Crafty.e("greenBush").attr({x:3800}),Crafty.e("greenBush").attr({x:3900}),Crafty.e("greenHill").attr({x:4e3}),Crafty.e("greenHillSm").attr({x:4075}),Crafty.e("greenHill").attr({x:4150}),Crafty.e("greenBush").attr({x:4250}),Crafty.e("greenBush").attr({x:4350}),Crafty.e("stone").attr({x:4450,y:game_man.platformHigh()-40}),Crafty.e("grass").attr({x:4600}),Crafty.e("grass").attr({x:4640}),Crafty.e("grass").attr({x:4680}),Crafty.e("grass").attr({x:4720}),Crafty.e("grass").attr({x:4760}),Crafty.e("grass").attr({x:4800}),Crafty.e("grass").attr({x:4840}),Crafty.e("grass").attr({x:4880}),Crafty.e("grass").attr({x:4920}),Crafty.e("grass").attr({x:4960}),Crafty.e("grass").attr({x:5e3}),Crafty.e("grass").attr({x:5040}),Crafty.e("grass").attr({x:5080}),Crafty.e("grass").attr({x:5120}),Crafty.e("grass").attr({x:5160}),Crafty.e("grass").attr({x:5200}),Crafty.e("grass").attr({x:5240}),Crafty.e("grass").attr({x:5280}),Crafty.e("grass").attr({x:5320}),Crafty.e("grass").attr({x:5360}),Crafty.e("grass").attr({x:5400}),Crafty.e("platGrassLeft").attr({x:1700}),Crafty.e("platGrass").attr({x:1740}),Crafty.e("platGrass").attr({x:1780}),Crafty.e("platGrass").attr({x:1820}),Crafty.e("platGrass").attr({x:1860}),Crafty.e("platGrassRight").attr({x:1900}),Crafty.e("platGrassLeft").attr({x:2100,y:game_man.platformHigh()}),Crafty.e("platGrass").attr({x:2140,y:game_man.platformHigh()}),Crafty.e("platGrass").attr({x:2180,y:game_man.platformHigh()}),Crafty.e("platGrass").attr({x:2220,y:game_man.platformHigh()}),Crafty.e("platGrassRight").attr({x:2260,y:game_man.platformHigh()}),Crafty.e("platGrassLeft").attr({x:3340,y:game_man.platformHigh()}),Crafty.e("platGrass").attr({x:3380,y:game_man.platformHigh()}),Crafty.e("platGrass").attr({x:3420,y:game_man.platformHigh()}),Crafty.e("platGrass").attr({x:3460,y:game_man.platformHigh()}),Crafty.e("platGrass").attr({x:3500,y:game_man.platformHigh()}),Crafty.e("platGrass").attr({x:3540,y:game_man.platformHigh()}),Crafty.e("platGrass").attr({x:3580,y:game_man.platformHigh()}),Crafty.e("platGrassRight").attr({x:3620,y:game_man.platformHigh()}),Crafty.e("platGrassLeft").attr({x:4400}),Crafty.e("platGrass").attr({x:4440}),Crafty.e("platGrass").attr({x:4480}),Crafty.e("platGrass").attr({x:4520}),Crafty.e("platGrass").attr({x:4560}),Crafty.e("platGrassRight").attr({x:4600}),Crafty.e("coin").attr({x:600}),Crafty.e("coin").attr({x:635}),Crafty.e("coin").attr({x:670}),Crafty.e("coin").attr({x:705}),Crafty.e("coin").attr({x:815,y:game_man.height-130}),Crafty.e("coin").attr({x:850,pos:"fence"}),Crafty.e("coin").attr({x:885,pos:"fence"}),Crafty.e("coin").attr({x:915,pos:"fence"}),Crafty.e("coin").attr({x:950,pos:"fence"}),Crafty.e("coin").attr({x:985,pos:"fence"}),Crafty.e("coin").attr({x:1300,pos:"fence"}),Crafty.e("coin").attr({x:1335,pos:"fence"}),Crafty.e("coin").attr({x:1370,pos:"fence"}),Crafty.e("coin").attr({x:1405,pos:"fence"}),Crafty.e("coin").attr({x:1440,pos:"fence"}),Crafty.e("coin").attr({x:1475,pos:"fence"}),Crafty.e("coin").attr({x:1725}),Crafty.e("coin").attr({x:1770}),Crafty.e("coin").attr({x:1815}),Crafty.e("coin").attr({x:1860}),Crafty.e("gem").attr({x:2110,color:"blue",pos:"highPlatform"}),Crafty.e("gem").attr({x:2150,color:"green",pos:"highPlatform"}),Crafty.e("gem").attr({x:2190,color:"orange",pos:"highPlatform"}),Crafty.e("gem").attr({x:2230,color:"yellow",pos:"highPlatform"}),Crafty.e("gem").attr({x:2270,color:"green",pos:"highPlatform"}),Crafty.e("coin").attr({x:2130,y:game_man.platformHigh()+50}),Crafty.e("coin").attr({x:2180,y:game_man.platformHigh()+50}),Crafty.e("coin").attr({x:2230,y:game_man.platformHigh()+50}),Crafty.e("gem").attr({x:2520,color:"blue",y:game_man.platformLow()+40}),Crafty.e("coin").attr({x:2575,y:game_man.platformLow()+40}),Crafty.e("coin").attr({x:2625,y:game_man.platformLow()+40}),Crafty.e("coin").attr({x:2675,y:game_man.platformLow()+40}),Crafty.e("coin").attr({x:2725,y:game_man.platformLow()+20}),Crafty.e("coin").attr({x:2775,y:game_man.platformLow()+40}),Crafty.e("coin").attr({x:2825,y:game_man.platformLow()+40}),Crafty.e("coin").attr({x:2875,y:game_man.platformLow()+40}),Crafty.e("gem").attr({x:2945,color:"blue",y:game_man.platformLow()+40}),Crafty.e("coin").attr({x:3340}),Crafty.e("coin").attr({x:3340,pos:"highPlatform"}),Crafty.e("coin").attr({x:3380}),Crafty.e("coin").attr({x:3380,pos:"highPlatform"}),Crafty.e("coin").attr({x:3420}),Crafty.e("coin").attr({x:3420,pos:"highPlatform"}),Crafty.e("coin").attr({x:3460}),Crafty.e("gem").attr({x:3460,color:"green",pos:"highPlatform"}),Crafty.e("coin").attr({x:3500}),Crafty.e("gem").attr({x:3500,color:"orange",pos:"highPlatform"}),Crafty.e("coin").attr({x:3540}),Crafty.e("coin").attr({x:3540,pos:"highPlatform"}),Crafty.e("coin").attr({x:3580}),Crafty.e("coin").attr({x:3580,pos:"highPlatform"}),Crafty.e("coin").attr({x:3620}),Crafty.e("coin").attr({x:3620,pos:"highPlatform"}),Crafty.e("coin").attr({x:4700,pos:"smFence"}),Crafty.e("coin").attr({x:4740,pos:"smFence"}),Crafty.e("coin").attr({x:4780,pos:"smFence"}),Crafty.e("coin").attr({x:4820,pos:"smFence"}),Crafty.e("coin").attr({x:4860,pos:"smFence"}),Crafty.e("coin").attr({x:4900,pos:"smFence"}),Crafty.e("coin").attr({x:4940,pos:"smFence"}),Crafty.e("coin").attr({x:4980,pos:"smFence"}),Crafty.e("coin").attr({x:5020,pos:"smFence"}),Crafty.e("coin").attr({x:5060,pos:"smFence"}),Crafty.e("coin").attr({x:5100,pos:"smFence"}),Crafty.e("coin").attr({x:5140,pos:"smFence"}),Crafty.e("coin").attr({x:5180,pos:"smFence"}),Crafty.e("coin").attr({x:5220,pos:"smFence"}),Crafty.e("coin").attr({x:5260,pos:"smFence"}),Crafty.e("coin").attr({x:5300,pos:"smFence"}),Crafty.e("coin").attr({x:5340,pos:"smFence"}),Crafty.e("coin").attr({x:5380,pos:"smFence"}),Crafty.e("coin").attr({x:5420,pos:"smFence"}),Crafty.e("slug").attr({x:1e3}),Crafty.e("slug").attr({x:2680}),Crafty.e("slug").attr({x:3900}),Crafty.e("slug").attr({x:4850}),Crafty.e("slug").attr({x:6e3}),Crafty.e("snail").attr({x:1500}),Crafty.e("snail").attr({x:3e3}),Crafty.e("snail").attr({x:4500}),Crafty.e("fly").attr({x:2e3}),Crafty.e("fly").attr({x:3450}),Crafty.e("fly").attr({x:3900,y:game_man.platformHigh()-40}),Crafty.e("fly").attr({x:5500}),Crafty.e("snail").attr({x:game_man.levels.width}),Crafty.e("flagPole").attr({x:5800,y:game_man.height-50}),Crafty.e("flagPole").attr({x:5800,y:game_man.height-60}),Crafty.e("flagPole").attr({x:5800,y:game_man.height-70}),Crafty.e("flagPole").attr({x:5800,y:game_man.height-80}),Crafty.e("flagPole").attr({x:5800,y:game_man.height-90}),Crafty.e("flagPole").attr({x:5800,y:game_man.height-100}),Crafty.e("flagPole").attr({x:5800,y:game_man.height-110}),Crafty.e("flagPole").attr({x:5800,y:game_man.height-120}),Crafty.e("flagPole").attr({x:5800,y:game_man.height-130}),Crafty.e("flagPole").attr({x:5800,y:game_man.height-140}),Crafty.e("flagYellow").attr({x:5800}),Crafty.e("spring");var t=Math.ceil(game_man.levels.width/42);for(tiles=0;tiles<=t;tiles++)Crafty.e("groundGrass").attr({x:40*game_man.numTiles,y:game_man.height-40}),game_man.numTiles++});
var assetsObj={audio:{mp3:["audio/mp3/coin.mp3","audio/mp3/gameover.mp3","audio/mp3/gem.mp3","audio/mp3/hit.mp3","audio/mp3/jump.mp3","audio/mp3/level1bg.mp3","audio/mp3/levelcomplete.mp3","audio/mp3/menubg.mp3","audio/mp3/select.mp3"],ogg:["audio/ogg/coin.ogg","audio/ogg/gameover.ogg","audio/ogg/gem.ogg","audio/ogg/hit.ogg","audio/ogg/jump.ogg","audio/ogg/level1bg.ogg","audio/ogg/levelcomplete.ogg","audio/ogg/menubg.ogg","audio/ogg/select.ogg"],wav:["audio/wav/coin.wav","audio/wav/gameover.wav","audio/wav/gem.wav","audio/wav/hit.wav","audio/wav/jump.wav","audio/wav/level1bg.wav","audio/wav/levelcomplete.wav","audio/wav/menubg.wav","audio/wav/select.wav"]},images:{spritesheet:"min/images/sprites.png"}};Crafty.load(assetsObj,function(){Crafty.scene("menu"),console.log("Done loading! Now we're ready to play.")},function(o){console.log(o.percent+"% complete")},function(o){console.log("There was an error:"),console.log(o)}),Crafty.defineScene("loading",function(){Crafty.e("2D, DOM, Image").attr({w:170,h:50,x:game_man.width/2-85,y:100}).image("min/images/loading.png")});
Crafty.defineScene("menu",function(){Crafty.e("title"),Crafty.e("play"),Crafty.audio.play("menubg",-1,.3);var e=Math.ceil(game_man.width/42);for(tiles=0;tiles<=e;tiles++)Crafty.e("groundGrass").attr({x:40*game_man.numTiles,y:game_man.height-40}),game_man.numTiles++});